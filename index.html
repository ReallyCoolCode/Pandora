<!DOCTYPE html><html><head><title>Pandora Radio - TV</title><style>body{margin:0;padding:0;background:#000;font-family:Tahoma, Arial, sans-serif;color:#000;overflow:hidden}#app{position:relative;width:100%;height:100%;background:#000}#logo{position:absolute;top:20px;left:20px;width:100px;height:100px}#logo img{width:100%;height:100%;display:block}#signOut{position:absolute;top:40px;right:30px;padding:10px 20px;background:linear-gradient(to bottom,#fff,#ccc);color:#000;font-size:18px;cursor:pointer;user-select:none;display:none}#signOut.focused{outline:2px solid #000;outline-offset:-2px}#stationList{position:absolute;top:200px;right:30px;width:300px}.station{padding:10px;margin-bottom:2px;background:linear-gradient(to bottom,#fff,#ccc);color:#000;font-size:20px;cursor:pointer;user-select:none}.station.focused{background:linear-gradient(to bottom,#ccc,#fff);outline:2px solid #000;outline-offset:-2px}#player{position:absolute;top:200px;left:50px;width:500px;background:linear-gradient(to bottom,#fff,#ccc);padding:20px;color:#000}#trackTitle,#trackArtist{font-size:24px;margin-bottom:10px;user-select:none}#trackArtist{font-size:18px}.button{display:inline-block;padding:10px 20px;background:linear-gradient(to bottom,#fff,#ccc);color:#000;font-size:16px;margin-right:10px;cursor:pointer;user-select:none}.button.focused{outline:2px solid #000;outline-offset:-2px}#login{position:absolute;top:0;left:0;width:100%;height:100%;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center}#login input{display:block;margin-bottom:10px;padding:8px;width:200px}#skipLogin{margin-top:10px;font-size:14px;color:#4da3ff;background:none;border:none;text-decoration:underline;cursor:pointer}</style></head><body><div id="app"><div id="logo"><img src="icon.png" alt=""></div><div id="signOut" tabindex="0">Sign Out</div><div id="player" tabindex="0"><div id="trackTitle">Now Playing: </div><div id="trackArtist">Artist: N/A</div><div><div class="button" tabindex="0">Play</div><div class="button" tabindex="0">Pause</div><div class="button" tabindex="0">Skip</div></div></div><div id="stationList"></div></div><div id="login"><input type="text" id="userEmail" placeholder="Email"><input type="password" id="userPass" placeholder="Password"><div class="button" id="doLogin" tabindex="0">Login</div><button id="skipLogin">Browse</button></div><script>let partnerAuthToken,userAuthToken,syncTime;async function partnerLogin(){const e={username:"android",password:"password",deviceModel:"android-generic",version:"5",includeUrls:!0},t=await fetch("https://tuner.pandora.com/services/json/?method=auth.partnerLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();partnerAuthToken=a.result.partnerAuthToken,syncTime=0}async function userLogin(e,t){await partnerLogin();const a={loginType:"user",username:e,password:t,partnerAuthToken:partnerAuthToken,syncTime:syncTime},r=await fetch("https://tuner.pandora.com/services/json/?method=auth.userLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await r.json();userAuthToken=n.result.userAuthToken}async function loadStations(){const e={userAuthToken:userAuthToken,syncTime:syncTime},t=await fetch("https://tuner.pandora.com/services/json/?method=station.getStations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json(),r=Array.isArray(a.result.stations)?a.result.stations:[];renderStations(r)}function renderStations(e){const t=document.getElementById("stationList");t.innerHTML="",e.forEach((e,a)=>{const r=document.createElement("div");r.className="station",0===a&&r.classList.add("focused"),r.tabIndex=0,r.textContent=e.stationName,r.onclick=()=>{document.getElementById("trackTitle").textContent="Now Playing: "+e.stationName,document.getElementById("trackArtist").textContent="Artist: "},t.appendChild(r),focusable.push(r)}),document.getElementById("signOut").style.display="block",document.getElementById("login").style.display="none"}const focusable=[document.getElementById("signOut"),...document.querySelectorAll("#player .button")],fi=0;function updateFocus(){focusable.forEach((e,t)=>{e.classList.toggle("focused",t===fi),t===fi&&e.focus()})}updateFocus(),document.addEventListener("keydown",e=>{"ArrowDown"===e.key?(fi=(fi+1)%focusable.length,updateFocus(),e.preventDefault()):"ArrowUp"===e.key&&(fi=(fi-1+focusable.length)%focusable.length,updateFocus(),e.preventDefault()),("Enter"===e.key||" "===e.key)&&(()=>{const t=focusable[fi];"signOut"===t.id&&window.close(),"doLogin"===t.id&&document.getElementById("doLogin").click()})()}),focusable.forEach(e=>{e.onclick=()=>{"signOut"===e.id&&window.close()}}),document.getElementById("doLogin").onclick=async()=>{const e=document.getElementById("userEmail").value,t=document.getElementById("userPass").value;await userLogin(e,t),await loadStations()},document.getElementById("skipLogin").onclick=()=>{renderStations([{stationName:"Chill Vibes"},{stationName:"Classic Rock"},{stationName:"Jazz Essentials"},{stationName:"Hip Hop Radio"},{stationName:"Indie Beats"}])};</script></body></html>
